{.section item.customContent}
<script>
    var _gallery = false;
    {.if gallery}
        _gallery = {gallery|json};
    {.end}
</script>
{.end}
{.equal?:item.customContent.customType:"page-show"}
    <script>console.log('ITS THE SHOW TEMPLATE');</script>
    <section class="show-landing">
        <div class="fill-parent mask">
            <div class="landing-bg" style="background-image:url('{item.assetUrl}');" data-type="video" data-src="{item.customContent.hero-video}">
                <!--<video src="assets/videos/header-kanye2.mp4" autoplay loop></video>-->
                {item.structuredContent.oembed.html}
            </div>
        </div>

        <div class="show-content">

            <div class="rel">

                <div class="rectangle"></div>

                <h1 class="l-headline">
                    <span class="show-landing-subline">{website.siteTitle}</span>
                    {item.title}
                </h1>
                <div class="show-landing-info">
                    {item.body}
                </div><!-- .show-landing-info -->

            </div><!-- .rel -->

        </div><!-- .show-content -->
    </section>

    <div class="site-content">

        <section class="host-create history-slider post-excerpt">

            <div class="section-head">
                <h2>{item.customContent.galleryTitle}</h2>
                <p>{item.customContent.gallerySubtitle}</p>
            </div>

            <div class="excerpt-container top-spaced gallery-container">
                <div class="slider-images">
                    <div class="image current-image imgfill gallery-image" style=""></div>
                </div><!-- .ipad -->

                <div class="slider-ui">
                    <div class="slider-arrows">
                        <div class="arrow prev">{@|apply svg-arrow-cap.block}</div>
                        <div class="arrow next">{@|apply svg-arrow-cap.block}</div>
                    </div><!-- .slider-arrows -->
                    <div class="slider-label onlymobile">
                        <h3>
                            <span class="gallery-current"></span>/<span class="gallery-total"></span>
                        </h3>
                    </div>
                </div><!-- .slider-ui -->

                <div class="text-layer">
                    <div class="section-head excerpt-head">
                        <h2 class="gallery-title"></h2>
                    </div>
                    <div class="gallery-copy"></div>
                    <div class="slider-ui onlynomobile">
                        <div class="slider-label">
                            <h3>
                                <span class="gallery-current"></span>/<span class="gallery-total"></span>
                            </h3>
                        </div><!-- .slider-label -->
                    </div>
                </div><!-- .text-layer -->
            </div><!-- .excerpt-container -->

        </section><!-- .post-excerpt -->


        <section class="video-gallery teaser no-shift">

            <div class="section-head">
                <h2>{item.customContent.gridTitle}</h2>
            </div>

            <div class="video-gallery-videos lefthand top-spaced" data-payload="4">

                <div class="gutter-sizer"></div>

                <squarespace:query collection="products" limit="1">
                    <div class="video">
                        <div class="image" style="background-image:url('{.section items.0}{assetUrl}{.end}');">
                            <div class="cta-dummy" data-icon="icon-arrow" data-class="negative play goto" data-attributes="href={collection.fullUrl}">{@|apply svg-icon-arrow.block}</div>
                            <!--php print_cta(array(
                            'icon' => 'images/icon-arrow',
                            'class' => array('negative', 'play', 'goto')
                            )); -->
                            <span class="video-label get-label"></span>
                        </div>
                        <div class="flex-cols">
                            <div class="title">{.section items.0}{title}{.end}</div>
                        </div><!-- .flex-cols -->
                    </div><!-- .video -->
                </squarespace:query>

                <squarespace:query collection="blog" limit="1">
                    <div class="video">
                        <div class="image" style="background-image:url('{.section items.0}{assetUrl}{.end}');">
                            <div class="cta-dummy" data-icon="icon-arrow" data-class="negative play goto" data-attributes="href={.section items.0}{fullUrl}{.end}">{@|apply svg-icon-arrow.block}</div>
                            <!--php print_cta(array(
                            'icon' => 'images/icon-arrow',
                            'class' => array('negative', 'play', 'goto')
                            )); -->
                            <span class="video-label get-label"></span>
                        </div>
                        <div class="flex-cols">
                            <div class="title">{.section items.0}{title}{.end}</div>
                        </div><!-- .flex-cols -->
                    </div><!-- .video -->
                </squarespace:query>

                <squarespace:query collection="clips" limit="1">
                    <div class="video">
                        <div class="image" style="background-image:url('{.section items.0}{assetUrl}{.end}');">
                            <div class="cta-dummy" data-icon="icon-arrow" data-class="negative play goto" data-attributes="href={collection.fullUrl}">{@|apply svg-icon-arrow.block}</div>
                            <!--php print_cta(array(
                            'icon' => 'images/icon-arrow',
                            'class' => array('negative', 'play', 'goto')
                            )); -->
                            <span class="video-label get-label"></span>
                        </div>
                        <div class="flex-cols">
                            <div class="title">{.section items.0}{title}{.end}</div>
                        </div><!-- .flex-cols -->
                    </div><!-- .video -->
                </squarespace:query>

                <squarespace:query collection="episodes" category="aired" limit="1">
                    <script>
                        console.log('episodes query', {@|json-pretty});
                    </script>
                        <div class="video">
                            <div class="image" style="background-image:url('{.section items.0}{assetUrl}{.end}');">
                                <div class="cta-dummy" data-icon="icon-arrow" data-class="negative play goto" data-attributes="href={collection.fullUrl}">{@|apply svg-icon-arrow.block}</div>
                                <!--php print_cta(array(
                                'icon' => 'images/icon-arrow',
                                'class' => array('negative', 'play', 'goto')
                                )); -->
                                <span class="video-label get-label"></span>
                            </div>
                            <div class="flex-cols">
                                <div class="title">{.section items.0}{title}{.end}</div>
                            </div><!-- .flex-cols -->
                        </div><!-- .video -->
                </squarespace:query>


                {.section item.customContent}
                <script>
                    // populate griditem labels
                    var _labels = ['{griditemLabelMerch}', '{griditemLabelBlog}', '{griditemLabelClips}', '{griditemLabelEpisodes}'];
                    jQuery('.get-label').each(function(i){ jQuery(this).html(_labels[i]); });
                </script>
                {.end}

            </div><!-- .video-gallery-videos -->

        </section><!-- .video-gallery -->

    </div>

    <squarespace:script src="custom/page_show.js"/>
{.end}
{.equal?:item.customContent.customType:"page-host"}
    {@|apply page-host.block}
    <!--quarespace:script src="custom/page_host.js"/-->
{.end}