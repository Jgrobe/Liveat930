
<script>console.log('--- EPISODES ITEM', {@|json-pretty});</script>

{.section item}

    <section class="episodes-landing episode-detail">
        <h1 style="color:black;">Episodes Item</h1>
        <div class="fill-parent mask">
            <div class="landing-bg" style="background-image:url('{assetUrl}');" data-type="video" data-src="assets/videos/navigation-overlay-video_1.mp4" data-shape="<?php if(isset($_GET['shape'])){echo $_GET['shape'];}else{echo 'general';} ?>">
            <!--<video src="assets/videos/header-episode.mp4" loop autoplay></video>-->
        </div>
        </div><!-- .mask -->

        <div class="episodes-landing-head">
            <h1>{collection.navigationTitle}</h1>
            <div class="small">Latest Show</div>
            <a href="#" class="cta-play-episode">Watch now</a>
        </div>
        <div class="text-layer">
            {body}
            <!--php include('modules/sharebox.php'); -->
            {@|apply module-share-episode.block}
        </div><!-- .episodes-landing-sub -->
    </section>

    <div class="site-content">

        {.if tags}
        <section class="video-gallery teaser no-shift">

            <div class="section-head">
                <h2>Watch and share</h2>
                <p><b>Video clips from this episode</b></p>
            </div>

            <squarespace:query collection="clips" tag="{.repeated section tags}{@},{.end}">

                <script>console.log('Clips Tags query ', {@|json-pretty});</script>

                <div class="video-gallery-videos lefthand top-spaced">

                    {.repeated section items}

                        <div class="video small">
                            <div class="image current-image" style="background-image:url('{assetUrl}');">
                                <!--php print_cta(array(
                        'icon' => 'images/eye',
                                'class' => array('negative', 'play')
                                )); -->
                                <!--<a href="" class="play"></a>-->
                                {@|apply module-cta.block}
                            </div>
                            <div class="flex-cols">
                                <div class="title">{title}</div>
                            </div>
                        </div>

                    {.end}<!-- .end repeated section items -->

                    <!---->
                    <!--<div class="video small">-->
                        <!--<div class="image" style="background-image:url('assets/images/thumb-video1.jpg');">-->
                            <!--<?php print_cta(array(-->
                        <!--'icon' => 'images/eye',-->
                            <!--'class' => array('negative', 'play')-->
                            <!--)); ?>-->
                        <!--</div>-->
                        <!--<div class="flex-cols">-->
                            <!--<div class="title">Behind the scenes with Gogol Bordello</div>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="video small no-margin">-->
                        <!--<div class="image" style="background-image:url('assets/images/thumb-video3.jpg');">-->
                            <!--<?php print_cta(array(-->
                        <!--'icon' => 'images/eye',-->
                            <!--'class' => array('negative', 'play')-->
                            <!--)); ?>-->
                        <!--</div>-->
                        <!--<div class="flex-cols">-->
                            <!--<div class="title">Behind the scenes with youth lagoon</div>-->
                        <!--</div>-->
                    <!--</div>-->
                </div><!-- .video-gallery-videos -->

            </squarespace:query>

            <div class="centered top-spaced">
                <!--php print_cta(array(
                    'label' => 'Load more clips',
                'icon' => 'images/icon-load',
                'class' => array('load-clips', 'upsized-icon')
                )); -->
                {@|apply module-cta.block}
                <!--<a class="episodes-landing-cta icon-refresh static" href="">Load more clips</a>-->
            </div><!-- .centered.top-spaced -->

        </section><!-- .video-gallery -->

        {.end}<!-- .end if tags -->

        {.if customContent}

            {.if episode-gallery}
                <section class="image-slider">
                    <!--{.repeated section items}{.equal?:customContent.customType:"episode-gallery"}-->
                    <script>
                        {episode-gallery}
                        console.log('gallery data', {@|json-pretty});
                        {.end}
                    </script>
                    <!--{.end}{.end}-->

                    <div class="slider-container top-spaced">
                        <div class="slider-images">
                            <div class="image current-image imgfill" style="background-image:url('assets/images/thumb-video5.jpg');"></div>
                            <div class="image pattern imgfill" style="background-image:url('assets/images/pattern-logo-bg.jpg');"></div>
                            <div class="image next-image imgfill" style="background-image:url('assets/images/video-clips-title.jpg');"></div>
                        </div><!-- .slider-images -->

                        <div class="slider-ui">
                            <div class="slider-arrows">
                                <div class="arrow prev"><?php svg('images/arrow-cap'); ?></div>
                                <div class="arrow next"><?php svg('images/arrow-cap'); ?></div>
                            </div><!-- .slider-arrows -->
                            <div class="slider-label">
                                <h3>2/8</h3>
                            </div>
                        </div><!-- .slider-ui -->
                    </div><!-- .slider-container -->

                </section><!-- .image-slider -->
            {.end}<!-- .end if episode-gallery post -->


            {.if epsiode-blog-post}
                <section class="post-excerpt">

                    <div class="section-head">
                        <h2>Explore the episode</h2>
                        <!--<p><b>Episode No.5, August 2016</b></p>-->
                    </div><!-- .section-head -->

                    <div class="excerpt-container top-spaced">
                    <div class="image pattern imgfill" style="background-image:url('assets/images/pattern-logo-bg.jpg');"></div>
                    <div class="image post-image imgfill" style="background-image:url('assets/images/the-show-slide2.jpg');"></div>
                    <div class="text-layer">
                        <div class="section-head excerpt-head">
                        <h2>An encore</h2>
                        </div>
                        <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                        <br/><br/>
                        Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, quam quaerat voluptatem â€¦
                        </p>
                        <?php print_cta(array(
                        'label' => 'Full story',
                        'icon' => 'images/eye'
                        )); ?>
                        <!--<a class="episodes-landing-cta icon-eye" href="">Full story</a>-->
                    </div><!-- .text-layer -->
                    </div><!-- .excerpt-container -->

                </section><!-- .post-excerpt -->
            {.end}<!-- .end if blog post -->

        {.end}<!-- .end if customContent -->

        <section class="video-gallery teaser no-shift">

            <div class="section-head">
                <h2>Get more</h2>
            </div>

            <?php

            $videos = array(
                array(
                    'size' => 'medium',
            'img' => 'assets/images/thumb-video1.jpg',
            'label' => 'More country music',
            'title' => 'Shakey Graves'
            ),
            array(
            'size' => 'medium',
            'img' => 'assets/images/thumb-video2.jpg',
            'label' => 'More comedy',
            'title' => 'Episode No. 6, September 2016'
            ),
            array(
            'size' => 'small',
            'img' => 'assets/images/thumb-video3.jpg',
            'label' => 'More rock & indie',
            'title' => 'Gogol Bordello'
            ),
            array(
            'size' => 'small',
            'img' => 'assets/images/thumb-video1.jpg',
            'label' => false,
            'title' => 'Episode No. 5, August 2016'
            ),
            array(
            'size' => 'small',
            'img' => 'assets/images/thumb-video2.jpg',
            'label' => false,
            'title' => 'Youth lagoon'
            )
            );

            ?>

            <div class="video-gallery-videos lefthand top-spaced">
                <?php foreach($videos as $i => $vid) : ?>
                <div class="video <?php echo $vid['size']; ?>">
                    <div class="image" style="background-image:url('<?php echo $vid['img']; ?>');">
                        <?php print_cta(array(
                                'icon' => 'images/icon-arrow',
                        'class' => array('negative', 'play', 'goto')
                        )); ?>
                        <?php if($vid['label']) : ?>
                        <span class="video-label"><?php echo $vid['label']; ?></span>
                        <?php endif; ?>
                    </div>
                    <div class="flex-cols">
                        <div class="title"><?php echo $vid['title']; ?></div>
                        <?php print_cta(array(
                                'label' => 'View',
                        'icon' => 'images/eye',
                        'class' => array('plain'),
                        'hover' => false
                        )); ?>
                        <!--<a class="cta-container plain">-->
                        <!--<div class="cta">-->
                        <!--<span class="icon"><?php svg('images/eye'); ?></span>-->
                        <!--<span class="label">View</span>-->
                        <!--</div>-->
                        <!--</a>-->
                    </div><!-- .flex-cols -->
                </div>
                <?php endforeach; ?>
            </div><!-- .flexbox -->

        </section><!-- .video-gallery -->
    </div>
{.end}

<!--squarespace:script combo="true" src="custom/page_episode.js" /-->